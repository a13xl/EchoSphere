<div class="post">
  <div class="getActiveContainer">
    <mat-icon title="Add Emoji"  (click)="openIconDialog('400ms', '400ms')">add_reaction</mat-icon>
    <mat-icon [title]="isBookmarked ? 'Remove bookmark' : 'Add bookmark'" (click)="bookmarkPost()">{{isBookmarked ? 'book' : 'bookmark_add'}}</mat-icon>
    <mat-icon title="Answer" (click)="openPostDetailDialog('400ms', '400ms')">chat</mat-icon>
    <mat-icon title="Pin on Channel" (click)="togglePinnedStatus()" [ngClass]="getPinIconClass()">push_pin</mat-icon>  
  </div>
  <!-- <h3 *ngIf="showHeader">{{ dateString }}</h3> -->
   <!-- <img class="profile-pic" src="assets/img/carmen.png"> -->
    <img class="profile-pic" src={{userImage}}>
<!-- 
  <div class="post-author">{{ post.author }}</div> -->
  <div class="right-area">
   
    <div class="post-header">
        <h3>{{ getUserName(post.author) }}</h3>
        <div  class="text-small">{{ timeString }} h </div>
    </div>
    <div class="post-message" [innerHTML]="post.message"></div>
    <div class="emojis">

      

<div class="emoji-list" *ngFor="let emoji of emojiCounts | keyvalue">
  <span (click)="removeEmoji(emoji.key, emoji.value.users)">
    {{ emoji.key }} {{ emoji.value.count }}
  </span>
</div>


 <mat-icon (click)="openIconDialog('400ms', '400ms')">add_reaction</mat-icon></div>

    <div *ngIf="!isAnyDialogOpen()" (click)="openPostDetailDialog('400ms', '400ms')" class="reaction" (mouseenter)="showThread()" (mouseleave)="hideThread()">
      <div  class="reaction-left" >
           <!-- <div class="replay-img" *ngFor="let image of replyUserImages; index as i">
               <img *ngIf="image" class="small-icon" [src]="image" alt="User image {{i + 1}}">
          </div> -->
            <div class="link">{{post.replay.length}} answers</div>
            <div  class="text-small" *ngIf="!showThreadContent"> 
              <div *ngIf="latestReplyDate" class="text-small"> last answer before: {{ latestReplyDate | relativeTime }}</div>

        </div>
            <div  class="text-small" *ngIf="showThreadContent">Thread content...</div>
           

      </div>
      
      <mat-icon class="reaction-right" *ngIf="showThreadContent">chevron_right</mat-icon>
    </div>
  </div>
</div>

